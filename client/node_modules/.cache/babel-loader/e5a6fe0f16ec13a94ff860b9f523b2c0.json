{"ast":null,"code":"var _jsxFileName = \"/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/src/pages/signup1.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useHistory } from \"react-router-dom\"; // import FileUpload from 'FileUpoad';\n\nimport { connect } from 'react-redux';\nimport { selectedProfile, selectedName, selectedEmail, selectedMobile } from \"../Reducer/reducer\";\nimport validator from 'validator';\nimport axios from \"axios\";\nimport \"../App.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Signup(props) {\n  _s();\n\n  const [Profile, setProfile] = useState(''); //    const [name,setname] = useState('');\n  //    const [email,setemail] = useState('');\n  //    const [password,setpassword] = useState('');\n  //    const [mobile,setmobile] = useState('');\n\n  const [admin, setadmin] = useState(false);\n  const [avatarPreview, setAvatarPreview] = useState(\"/images/default_avatar.jpg\");\n  const [avatar, setAvatar] = useState(\"\");\n  const [user, setUser] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    mobile: \"\"\n  });\n  const [error, serError] = useState({\n    username: \"\",\n    email: \"\",\n    password: \"\",\n    mobile: \"\"\n  });\n  const {\n    username,\n    email,\n    password,\n    mobile\n  } = user;\n  const History = useHistory();\n  const validEmailRegex = RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n\n  const signIn = () => {\n    var container = document.getElementById('container');\n    container.classList.remove(\"right-panel-active\");\n  };\n\n  const signUp = () => {\n    var container = document.getElementById('container');\n    container.classList.add(\"right-panel-active\");\n  };\n\n  const handleLogin = async e => {\n    console.log(\"handlelogin called\");\n    var email = state.email;\n    var password = state.password;\n    e.preventDefault();\n\n    if (email === \"\" || password === \"\") {\n      alert(\"enter email and password\");\n    }\n\n    if (admin == true) {\n      var res = await axios.post(\"https://book-my-show-web-application.vercel.app/admin/validateAdmin\", {\n        email,\n        password\n      });\n      console.log(\"res\", res);\n\n      if (res.data.error == \"Invalid Password\") {\n        alert(\"Invalid Password\");\n      } else if (res.data.error == \"admin doesnt exist\") {\n        alert(\"admin doesnt exist\");\n      } else if (res.data.authToken) {\n        props.selectedName(res.data.admin.name);\n        props.selectedProfile(res.data.admin.image);\n        props.selectedEmail(res.data.admin.email);\n        props.selectedMobile(res.data.admin.mobile);\n        localStorage.setItem(\"token\", res.data.authToken);\n        History.push({\n          pathname: \"/adminpage\"\n        });\n      }\n    } else {\n      var res = await axios.post(\"https://book-my-show-web-application.vercel.app/users/validateUser\", {\n        email,\n        password\n      });\n      console.log(\"res\", res);\n\n      if (res.data.error == \"Invalid Password\") {\n        alert(\"Invalid Password\");\n      } else if (res.data.error == \"user doesnt exist\") {\n        alert(\"user doesnt exist\");\n      } else if (res.data.authToken) {\n        props.selectedName(res.data.user.username);\n        props.selectedProfile(res.data.user.image);\n        props.selectedEmail(res.data.user.email);\n        props.selectedMobile(res.data.user.mobile);\n        localStorage.setItem(\"token\", res.data.authToken);\n        History.push(\"/homepage\");\n      }\n    }\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    console.log(\"state\", state);\n    console.log(\"target\", e.target.name); // const data = new FormData(e.target);\n    //  console.log(\"data\",data);\n\n    const data = {\n      username: state.username,\n      email: state.email,\n      password: state.password,\n      mobile: state.mobile,\n      avatar: avatarPreview\n    };\n    console.log(\"data\", data);\n    const formData = new FormData(); //  const data = new FormData(e.target);\n    //  console.log(\"State\",state);\n    //  formData.set(\"avatar\",avatarPreview);\n    //  formData.set(\"username\",state.username);\n    //  formData.set(\"email\",state.email);\n    //  formData.set(\"password\",state.password);\n    //  formData.set(\"mobile\",state.mobile);\n    //  console.log(\"formadata\",formData);\n\n    const config = {\n      headers: {\n        'Content-Type': 'multipart/form-data'\n      }\n    };\n    const url = \"http://localhost:3001/users/register\";\n    const res = await axios.post(url, data, config);\n    console.log(\"res\", res);\n\n    if (res.data.response) {\n      alert(\"user register successfully\");\n      var container = document.getElementById('container');\n      container.classList.remove(\"right-panel-active\"); //  history.push(\"/\");\n    } else {\n      alert(\"user already exist\");\n    }\n  };\n\n  const handleChange = async _ref => {\n    let {\n      target: {\n        name,\n        value,\n        files\n      }\n    } = _ref;\n    console.log(\"handlechange called\");\n    console.log(\"value\", value);\n\n    switch (name) {\n      case \"username\":\n        {\n          if (value.length == 0) {\n            error.username = \"name cant be empty\";\n          } else if (value.length < 5) {\n            error.username = 'name should be atleast 5 charaters long';\n          } else {\n            error.username = \"\";\n          }\n\n          break;\n        }\n\n      case \"email\":\n        {\n          if (value.length == 0) {\n            error.email = \"email cant be empty\";\n          } else error.email = validEmailRegex.test(value) ? '' : 'Email is not valid!';\n\n          break;\n        }\n\n      case \"mobile\":\n        {\n          if (value.length == 0) {\n            error.mobile = \"Mobile Nunber cant be empty\";\n          } else error.mobile = '';\n\n          break;\n        }\n\n      case \"password\":\n        {\n          if (value.length == 0) {\n            errors.password = \"password cant be empty\";\n          } else errors.password = validator.isStrongPassword(value, {\n            minLength: 8,\n            minLowercase: 1,\n            minUppercase: 1,\n            minNumbers: 1,\n            minSymbols: 1\n          }) ? '' : \"password is weak\";\n\n          break;\n        }\n    }\n\n    console.log(\"errors\", errors);\n\n    if (name === \"avatar\") {\n      const reader = new FileReader();\n      console.log(\"image\", files[0]);\n      reader.readAsDataURL(files[0]);\n\n      reader.onload = () => {\n        if (reader.readyState == 2) {\n          setAvatarPreview(reader.result);\n          setAvatar(reader.result);\n        }\n      };\n    } else {\n      setState({ ...state,\n        [name]: value,\n        errors: errors\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      style: {\n        marginTop: \"80px\"\n      },\n      children: \"Movie Ticket Booking App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 10\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container\",\n      id: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-container sign-up-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          encType: \"multipart/form-data\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Create Account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"social-container\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"or use your email for registration\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"name\",\n            name: \"username\",\n            id: \"name\",\n            value: username,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: error.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            placeholder: \"email\",\n            name: \"email\",\n            id: \"email\",\n            value: email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: error.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"password\",\n            name: \"password\",\n            id: \"password\",\n            value: password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: error.password\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"mobile\",\n            name: \"mobile\",\n            id: \"mobile\",\n            value: mobile,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: error.mobile\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"custom-file-label\",\n            htmlFor: \"customFile\",\n            children: \"Choose Avatar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"custom-file\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              name: \"avatar\",\n              className: \"custom-file-input\",\n              id: \"customFile\",\n              accept: \"image/*\",\n              onChange: handleChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 18\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 14\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-container sign-in-container\",\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            children: \"Sign in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"or use your account\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            placeholder: \"email\",\n            value: state.email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              color: 'red'\n            },\n            children: state.errors.email\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 251,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            placeholder: \"password\",\n            value: state.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 252,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            style: {\n              marginLeft: \"-66%\",\n              width: \"-webkit-fill-available\"\n            },\n            value: admin,\n            onChange: e => setadmin(true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"#\",\n            style: {\n              marginLeft: \"-8%\",\n              marginTop: \"-8%\"\n            },\n            children: \"Pick If You Are Admin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 155\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLogin,\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 245,\n        columnNumber: 10\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"overlay-container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"overlay\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"overlay-panel overlay-left\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Welcome Back!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"To keep connected with us please login with your personal info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 263,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"ghost\",\n              id: \"signIn\",\n              onClick: signIn,\n              children: \"Sign In\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 264,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            class: \"overlay-panel overlay-right\",\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Hello, Friend!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Enter your personal details and start journey with us\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              class: \"ghost\",\n              id: \"signUp\",\n              onClick: signUp,\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 259,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 10\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 6\n  }, this);\n}\n\n_s(Signup, \"xFxr8GQAoPzjKcXKNJRgdszNqN8=\", false, function () {\n  return [useHistory];\n});\n\n_c = Signup;\nexport default connect(null, {\n  selectedProfile,\n  selectedName,\n  selectedEmail,\n  selectedMobile\n})(Signup);\n\nvar _c;\n\n$RefreshReg$(_c, \"Signup\");","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/src/pages/signup1.js"],"names":["React","useState","useHistory","connect","selectedProfile","selectedName","selectedEmail","selectedMobile","validator","axios","Signup","props","Profile","setProfile","admin","setadmin","avatarPreview","setAvatarPreview","avatar","setAvatar","user","setUser","username","email","password","mobile","error","serError","History","validEmailRegex","RegExp","signIn","container","document","getElementById","classList","remove","signUp","add","handleLogin","e","console","log","state","preventDefault","alert","res","post","data","authToken","name","image","localStorage","setItem","push","pathname","handleSubmit","target","formData","FormData","config","headers","url","response","handleChange","value","files","length","test","errors","isStrongPassword","minLength","minLowercase","minUppercase","minNumbers","minSymbols","reader","FileReader","readAsDataURL","onload","readyState","result","setState","marginTop","color","marginLeft","width"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAAQC,UAAR,QAAyB,kBAAzB,C,CACA;;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAAQC,eAAR,EAAwBC,YAAxB,EAAqCC,aAArC,EAAmDC,cAAnD,QAAwE,oBAAxE;AACA,OAAOC,SAAP,MAAsB,WAAtB;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAO,YAAP;;;AACA,SAASC,MAAT,CAAgBC,KAAhB,EAAsB;AAAA;;AACnB,QAAM,CAACC,OAAD,EAASC,UAAT,IAAuBZ,QAAQ,CAAC,EAAD,CAArC,CADmB,CAEtB;AACA;AACA;AACA;;AACG,QAAM,CAACa,KAAD,EAAOC,QAAP,IAAmBd,QAAQ,CAAC,KAAD,CAAjC;AACA,QAAM,CAACe,aAAD,EAAeC,gBAAf,IAAmChB,QAAQ,CAAC,4BAAD,CAAjD;AACC,QAAM,CAACiB,MAAD,EAAQC,SAAR,IAAqBlB,QAAQ,CAAC,EAAD,CAAnC;AACA,QAAM,CAACmB,IAAD,EAAMC,OAAN,IAAiBpB,QAAQ,CAAC;AAC9BqB,IAAAA,QAAQ,EAAC,EADqB;AAE9BC,IAAAA,KAAK,EAAC,EAFwB;AAG9BC,IAAAA,QAAQ,EAAC,EAHqB;AAI9BC,IAAAA,MAAM,EAAC;AAJuB,GAAD,CAA/B;AAMF,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAmB1B,QAAQ,CAAC;AAC9BqB,IAAAA,QAAQ,EAAC,EADqB;AAE9BC,IAAAA,KAAK,EAAC,EAFwB;AAG9BC,IAAAA,QAAQ,EAAC,EAHqB;AAI9BC,IAAAA,MAAM,EAAC;AAJuB,GAAD,CAAjC;AAMA,QAAM;AAACH,IAAAA,QAAD;AAAUC,IAAAA,KAAV;AAAgBC,IAAAA,QAAhB;AAAyBC,IAAAA;AAAzB,MAAmCL,IAAzC;AACC,QAAMQ,OAAO,GAAG1B,UAAU,EAA1B;AACA,QAAM2B,eAAe,GACtBC,MAAM,CAAC,wHAAD,CADL;;AAED,QAAMC,MAAM,GAAG,MAAI;AACjB,QAAIC,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAhB;AACAF,IAAAA,SAAS,CAACG,SAAV,CAAoBC,MAApB,CAA2B,oBAA3B;AACD,GAHD;;AAIA,QAAMC,MAAM,GAAG,MAAI;AACjB,QAAIL,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAhB;AACAF,IAAAA,SAAS,CAACG,SAAV,CAAoBG,GAApB,CAAwB,oBAAxB;AACD,GAHD;;AAIA,QAAMC,WAAW,GAAG,MAAMC,CAAN,IAAU;AAC5BC,IAAAA,OAAO,CAACC,GAAR,CAAY,oBAAZ;AACA,QAAInB,KAAK,GAAGoB,KAAK,CAACpB,KAAlB;AACA,QAAIC,QAAQ,GAAGmB,KAAK,CAACnB,QAArB;AACAgB,IAAAA,CAAC,CAACI,cAAF;;AACA,QAAGrB,KAAK,KAAG,EAAR,IAAcC,QAAQ,KAAG,EAA5B,EAA+B;AAC7BqB,MAAAA,KAAK,CAAC,0BAAD,CAAL;AACD;;AAEF,QAAG/B,KAAK,IAAE,IAAV,EAAe;AACb,UAAIgC,GAAG,GAAG,MAAMrC,KAAK,CAACsC,IAAN,CAAW,qEAAX,EAAiF;AAC/FxB,QAAAA,KAD+F;AACzFC,QAAAA;AADyF,OAAjF,CAAhB;AAGAiB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBI,GAAlB;;AACA,UAAGA,GAAG,CAACE,IAAJ,CAAStB,KAAT,IAAgB,kBAAnB,EAAsC;AACpCmB,QAAAA,KAAK,CAAC,kBAAD,CAAL;AACD,OAFD,MAGA,IAAGC,GAAG,CAACE,IAAJ,CAAStB,KAAT,IAAgB,oBAAnB,EAAwC;AACtCmB,QAAAA,KAAK,CAAC,oBAAD,CAAL;AACD,OAFD,MAGA,IAAGC,GAAG,CAACE,IAAJ,CAASC,SAAZ,EAAsB;AACrBtC,QAAAA,KAAK,CAACN,YAAN,CAAmByC,GAAG,CAACE,IAAJ,CAASlC,KAAT,CAAeoC,IAAlC;AACAvC,QAAAA,KAAK,CAACP,eAAN,CAAsB0C,GAAG,CAACE,IAAJ,CAASlC,KAAT,CAAeqC,KAArC;AACAxC,QAAAA,KAAK,CAACL,aAAN,CAAoBwC,GAAG,CAACE,IAAJ,CAASlC,KAAT,CAAeS,KAAnC;AACAZ,QAAAA,KAAK,CAACJ,cAAN,CAAqBuC,GAAG,CAACE,IAAJ,CAASlC,KAAT,CAAeW,MAApC;AACA2B,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BP,GAAG,CAACE,IAAJ,CAASC,SAAtC;AACArB,QAAAA,OAAO,CAAC0B,IAAR,CAAa;AAACC,UAAAA,QAAQ,EAAC;AAAV,SAAb;AACA;AACF,KAnBD,MAmBK;AACR,UAAIT,GAAG,GAAG,MAAMrC,KAAK,CAACsC,IAAN,CAAW,oEAAX,EAAgF;AAC9FxB,QAAAA,KAD8F;AACxFC,QAAAA;AADwF,OAAhF,CAAhB;AAGAiB,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBI,GAAlB;;AACA,UAAGA,GAAG,CAACE,IAAJ,CAAStB,KAAT,IAAgB,kBAAnB,EAAsC;AACpCmB,QAAAA,KAAK,CAAC,kBAAD,CAAL;AACD,OAFD,MAGA,IAAGC,GAAG,CAACE,IAAJ,CAAStB,KAAT,IAAgB,mBAAnB,EAAuC;AACrCmB,QAAAA,KAAK,CAAC,mBAAD,CAAL;AACD,OAFD,MAGE,IAAGC,GAAG,CAACE,IAAJ,CAASC,SAAZ,EAAsB;AACpBtC,QAAAA,KAAK,CAACN,YAAN,CAAmByC,GAAG,CAACE,IAAJ,CAAS5B,IAAT,CAAcE,QAAjC;AACAX,QAAAA,KAAK,CAACP,eAAN,CAAsB0C,GAAG,CAACE,IAAJ,CAAS5B,IAAT,CAAc+B,KAApC;AACAxC,QAAAA,KAAK,CAACL,aAAN,CAAoBwC,GAAG,CAACE,IAAJ,CAAS5B,IAAT,CAAcG,KAAlC;AACAZ,QAAAA,KAAK,CAACJ,cAAN,CAAqBuC,GAAG,CAACE,IAAJ,CAAS5B,IAAT,CAAcK,MAAnC;AACA2B,QAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA6BP,GAAG,CAACE,IAAJ,CAASC,SAAtC;AACArB,QAAAA,OAAO,CAAC0B,IAAR,CAAa,WAAb;AACF;AACD;AACE,GAhDD;;AAiDA,QAAME,YAAY,GAAG,MAAMhB,CAAN,IAAU;AAC7BA,IAAAA,CAAC,CAACI,cAAF;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBC,KAApB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBF,CAAC,CAACiB,MAAF,CAASP,IAA9B,EAH6B,CAI7B;AACF;;AACC,UAAMF,IAAI,GAAG;AACZ1B,MAAAA,QAAQ,EAACqB,KAAK,CAACrB,QADH;AAEZC,MAAAA,KAAK,EAACoB,KAAK,CAACpB,KAFA;AAGZC,MAAAA,QAAQ,EAACmB,KAAK,CAACnB,QAHH;AAIZC,MAAAA,MAAM,EAACkB,KAAK,CAAClB,MAJD;AAKZP,MAAAA,MAAM,EAACF;AALK,KAAb;AAOAyB,IAAAA,OAAO,CAACC,GAAR,CAAY,MAAZ,EAAmBM,IAAnB;AACC,UAAMU,QAAQ,GAAG,IAAIC,QAAJ,EAAjB,CAd6B,CAe/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEC,UAAMC,MAAM,GAAC;AACXC,MAAAA,OAAO,EAAC;AACP,wBAAe;AADR;AADG,KAAb;AAKA,UAAMC,GAAG,GAAG,sCAAZ;AACA,UAAMhB,GAAG,GAAG,MAAMrC,KAAK,CAACsC,IAAN,CAAWe,GAAX,EAAed,IAAf,EAAoBY,MAApB,CAAlB;AACAnB,IAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ,EAAkBI,GAAlB;;AACA,QAAGA,GAAG,CAACE,IAAJ,CAASe,QAAZ,EAAqB;AACnBlB,MAAAA,KAAK,CAAC,4BAAD,CAAL;AACA,UAAIb,SAAS,GAAGC,QAAQ,CAACC,cAAT,CAAwB,WAAxB,CAAhB;AACAF,MAAAA,SAAS,CAACG,SAAV,CAAoBC,MAApB,CAA2B,oBAA3B,EAHmB,CAIpB;AACA,KALD,MAKK;AACHS,MAAAA,KAAK,CAAC,oBAAD,CAAL;AACD;AACF,GAxCA;;AAyCD,QAAMmB,YAAY,GAAG,cAAoC;AAAA,QAA9B;AAACP,MAAAA,MAAM,EAAC;AAACP,QAAAA,IAAD;AAAMe,QAAAA,KAAN;AAAYC,QAAAA;AAAZ;AAAR,KAA8B;AACtDzB,IAAAA,OAAO,CAACC,GAAR,CAAY,qBAAZ;AACAD,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBuB,KAApB;;AAGA,YAAOf,IAAP;AACE,WAAK,UAAL;AAAgB;AACd,cAAGe,KAAK,CAACE,MAAN,IAAc,CAAjB,EAAmB;AACjBzC,YAAAA,KAAK,CAACJ,QAAN,GAAiB,oBAAjB;AACD,WAFD,MAGA,IAAG2C,KAAK,CAACE,MAAN,GAAa,CAAhB,EAAkB;AAChBzC,YAAAA,KAAK,CAACJ,QAAN,GAAiB,yCAAjB;AACD,WAFD,MAEK;AACHI,YAAAA,KAAK,CAACJ,QAAN,GAAiB,EAAjB;AACD;;AACD;AACD;;AAED,WAAK,OAAL;AAAa;AACX,cAAG2C,KAAK,CAACE,MAAN,IAAc,CAAjB,EAAmB;AACjBzC,YAAAA,KAAK,CAACH,KAAN,GAAc,qBAAd;AACD,WAFD,MAGAG,KAAK,CAACH,KAAN,GAAeM,eAAe,CAACuC,IAAhB,CAAqBH,KAArB,IACb,EADa,GAEb,qBAFF;;AAGA;AACD;;AACD,WAAK,QAAL;AAAc;AACZ,cAAGA,KAAK,CAACE,MAAN,IAAc,CAAjB,EAAmB;AACjBzC,YAAAA,KAAK,CAACD,MAAN,GAAe,6BAAf;AACD,WAFD,MAGAC,KAAK,CAACD,MAAN,GAAe,EAAf;;AACA;AACD;;AACD,WAAK,UAAL;AAAgB;AACd,cAAGwC,KAAK,CAACE,MAAN,IAAc,CAAjB,EAAmB;AACjBE,YAAAA,MAAM,CAAC7C,QAAP,GAAkB,wBAAlB;AACD,WAFD,MAGA6C,MAAM,CAAC7C,QAAP,GAAkBhB,SAAS,CAAC8D,gBAAV,CAA2BL,KAA3B,EAAkC;AAClDM,YAAAA,SAAS,EAAE,CADuC;AACpCC,YAAAA,YAAY,EAAE,CADsB;AAElDC,YAAAA,YAAY,EAAE,CAFoC;AAEjCC,YAAAA,UAAU,EAAE,CAFqB;AAElBC,YAAAA,UAAU,EAAE;AAFM,WAAlC,IAGf,EAHe,GAGZ,kBAHN;;AAKA;AACD;AAvCH;;AAyCAlC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqB2B,MAArB;;AACA,QAAGnB,IAAI,KAAK,QAAZ,EAAqB;AACnB,YAAM0B,MAAM,GAAG,IAAIC,UAAJ,EAAf;AACApC,MAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBwB,KAAK,CAAC,CAAD,CAAzB;AACAU,MAAAA,MAAM,CAACE,aAAP,CAAqBZ,KAAK,CAAC,CAAD,CAA1B;;AACAU,MAAAA,MAAM,CAACG,MAAP,GAAgB,MAAI;AAChB,YAAGH,MAAM,CAACI,UAAP,IAAqB,CAAxB,EAA0B;AACtB/D,UAAAA,gBAAgB,CAAC2D,MAAM,CAACK,MAAR,CAAhB;AACA9D,UAAAA,SAAS,CAACyD,MAAM,CAACK,MAAR,CAAT;AACH;AACJ,OALD;AAMD,KAVD,MAUK;AACLC,MAAAA,QAAQ,CAAC,EAAC,GAAGvC,KAAJ;AAAU,SAACO,IAAD,GAAOe,KAAjB;AAAuBI,QAAAA,MAAM,EAACA;AAA9B,OAAD,CAAR;AACD;AACF,GA5DA;;AA6DE,sBACE;AAAA,4BACI;AAAI,MAAA,KAAK,EAAE;AAACc,QAAAA,SAAS,EAAC;AAAX,OAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ,eAEI;AAAK,MAAA,KAAK,EAAC,WAAX;AAAuB,MAAA,EAAE,EAAC,WAA1B;AAAA,8BACA;AAAK,QAAA,KAAK,EAAC,kCAAX;AAAA,+BACI;AAAM,UAAA,QAAQ,EAAE3B,YAAhB;AAA8B,UAAA,OAAO,EAAC,qBAAtC;AAAA,kCACA;AAAA;AAAA;AAAA;AAAA,kBADA,eAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI;AAAK,YAAA,KAAK,EAAC;AAAX;AAAA;AAAA;AAAA;AAAA,kBALJ,eAQI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBARJ,eAYI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,WAAW,EAAC,MAA/B;AAAsC,YAAA,IAAI,EAAC,UAA3C;AAAsD,YAAA,EAAE,EAAC,MAAzD;AACA,YAAA,KAAK,EAAElC,QADP;AACiB,YAAA,QAAQ,EAAE0C;AAD3B;AAAA;AAAA;AAAA;AAAA,kBAZJ,eAeK;AAAM,YAAA,KAAK,EAAE;AAACoB,cAAAA,KAAK,EAAC;AAAP,aAAb;AAAA,sBAA6B1D,KAAK,CAACJ;AAAnC;AAAA;AAAA;AAAA;AAAA,kBAfL,eAgBG;AAAO,YAAA,IAAI,EAAC,OAAZ;AAAoB,YAAA,WAAW,EAAC,OAAhC;AAAwC,YAAA,IAAI,EAAC,OAA7C;AAAqD,YAAA,EAAE,EAAC,OAAxD;AACA,YAAA,KAAK,EAAEC,KADP;AACc,YAAA,QAAQ,EAAEyC;AADxB;AAAA;AAAA;AAAA;AAAA,kBAhBH,eAkBI;AAAM,YAAA,KAAK,EAAE;AAACoB,cAAAA,KAAK,EAAC;AAAP,aAAb;AAAA,sBAA6B1D,KAAK,CAACH;AAAnC;AAAA;AAAA;AAAA;AAAA,kBAlBJ,eAmBG;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,WAAW,EAAC,UAAnC;AAA8C,YAAA,IAAI,EAAC,UAAnD;AAA8D,YAAA,EAAE,EAAC,UAAjE;AACD,YAAA,KAAK,EAAEC,QADN;AACgB,YAAA,QAAQ,EAAEwC;AAD1B;AAAA;AAAA;AAAA;AAAA,kBAnBH,eAqBG;AAAM,YAAA,KAAK,EAAE;AAACoB,cAAAA,KAAK,EAAC;AAAP,aAAb;AAAA,sBAA6B1D,KAAK,CAACF;AAAnC;AAAA;AAAA;AAAA;AAAA,kBArBH,eAsBI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,WAAW,EAAC,QAA/B;AAAwC,YAAA,IAAI,EAAC,QAA7C;AAAsD,YAAA,EAAE,EAAC,QAAzD;AAEC,YAAA,KAAK,EAAEC,MAFR;AAEgB,YAAA,QAAQ,EAAEuC;AAF1B;AAAA;AAAA;AAAA;AAAA,kBAtBJ,eAyBK;AAAM,YAAA,KAAK,EAAE;AAACoB,cAAAA,KAAK,EAAC;AAAP,aAAb;AAAA,sBAA6B1D,KAAK,CAACD;AAAnC;AAAA;AAAA;AAAA;AAAA,kBAzBL,eA2BmB;AAAO,YAAA,SAAS,EAAC,mBAAjB;AAAqC,YAAA,OAAO,EAAC,YAA7C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3BnB,eA8BmB;AAAK,YAAA,SAAS,EAAC,aAAf;AAAA,mCACI;AACI,cAAA,IAAI,EAAC,MADT;AAEI,cAAA,IAAI,EAAC,QAFT;AAGA,cAAA,SAAS,EAAC,mBAHV;AAIA,cAAA,EAAE,EAAC,YAJH;AAKA,cAAA,MAAM,EAAC,SALP;AAMA,cAAA,QAAQ,EAAEuC;AANV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,kBA9BnB,eA0CI;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBA1CJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADA,eAiDA;AAAK,QAAA,KAAK,EAAC,kCAAX;AAAA,+BACK;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAHJ,eAII;AAAO,YAAA,IAAI,EAAC,OAAZ;AAAoB,YAAA,IAAI,EAAC,OAAzB;AAAiC,YAAA,WAAW,EAAC,OAA7C;AAAqD,YAAA,KAAK,EAAErB,KAAK,CAACpB,KAAlE;AAAyE,YAAA,QAAQ,EAAEyC;AAAnF;AAAA;AAAA;AAAA;AAAA,kBAJJ,eAKI;AAAM,YAAA,KAAK,EAAE;AAACoB,cAAAA,KAAK,EAAC;AAAP,aAAb;AAAA,sBAA6BzC,KAAK,CAAC0B,MAAN,CAAa9C;AAA1C;AAAA;AAAA;AAAA;AAAA,kBALJ,eAMI;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,IAAI,EAAC,UAA5B;AAAuC,YAAA,WAAW,EAAC,UAAnD;AAA8D,YAAA,KAAK,EAAEoB,KAAK,CAACnB,QAA3E;AAAqF,YAAA,QAAQ,EAAEwC;AAA/F;AAAA;AAAA;AAAA;AAAA,kBANJ,eAQI;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,KAAK,EAAE;AAAEqB,cAAAA,UAAU,EAAE,MAAd;AAAsBC,cAAAA,KAAK,EAAE;AAA7B,aAA9B;AAAuF,YAAA,KAAK,EAAExE,KAA9F;AAAqG,YAAA,QAAQ,EAAG0B,CAAD,IAAOzB,QAAQ,CAAC,IAAD;AAA9H;AAAA;AAAA;AAAA;AAAA,kBARJ,eAQ4I;AAAG,YAAA,IAAI,EAAC,GAAR;AAAY,YAAA,KAAK,EAAE;AAAEsE,cAAAA,UAAU,EAAE,KAAd;AAAqBF,cAAAA,SAAS,EAAE;AAAhC,aAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAR5I,eASI;AAAQ,YAAA,OAAO,EAAE5C,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADL;AAAA;AAAA;AAAA;AAAA,cAjDA,eA+DC;AAAK,QAAA,KAAK,EAAC,mBAAX;AAAA,+BACA;AAAK,UAAA,KAAK,EAAC,SAAX;AAAA,kCACE;AAAK,YAAA,KAAK,EAAC,4BAAX;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAQ,cAAA,KAAK,EAAC,OAAd;AAAsB,cAAA,EAAE,EAAC,QAAzB;AAAkC,cAAA,OAAO,EAAER,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eAME;AAAK,YAAA,KAAK,EAAC,6BAAX;AAAA,oCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFF,eAGE;AAAQ,cAAA,KAAK,EAAC,OAAd;AAAsB,cAAA,EAAE,EAAC,QAAzB;AAAkC,cAAA,OAAO,EAAEM,MAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHF;AAAA;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,cA/DD;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAmFF;;GA3QQ3B,M;UAsBUR,U;;;KAtBVQ,M;AA4QT,eAAeP,OAAO,CAAC,IAAD,EAAM;AAACC,EAAAA,eAAD;AAAiBC,EAAAA,YAAjB;AAA8BC,EAAAA,aAA9B;AAA4CC,EAAAA;AAA5C,CAAN,CAAP,CAA0EG,MAA1E,CAAf","sourcesContent":["import React, { useState } from \"react\";\nimport {useHistory} from \"react-router-dom\";\n// import FileUpload from 'FileUpoad';\nimport { connect } from 'react-redux';\nimport {selectedProfile,selectedName,selectedEmail,selectedMobile} from \"../Reducer/reducer\";\nimport validator from 'validator'\nimport axios from \"axios\";\nimport \"../App.css\";\nfunction Signup(props){\n   const [Profile,setProfile] = useState('');\n//    const [name,setname] = useState('');\n//    const [email,setemail] = useState('');\n//    const [password,setpassword] = useState('');\n//    const [mobile,setmobile] = useState('');\n   const [admin,setadmin] = useState(false);\n   const [avatarPreview,setAvatarPreview] = useState(\"/images/default_avatar.jpg\");\n    const [avatar,setAvatar] = useState(\"\");\n    const [user,setUser] = useState({\n      username:\"\",\n      email:\"\",\n      password:\"\",\n      mobile:\"\",\n  })\n  const [error,serError] = useState({\n      username:\"\",\n      email:\"\",\n      password:\"\",\n      mobile:\"\" \n  })\n  const {username,email,password,mobile} = user;\n   const History = useHistory();\n   const validEmailRegex = \n  RegExp(/^(([^<>()\\[\\]\\.,;:\\s@\\\"]+(\\.[^<>()\\[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i);\n  const signIn = ()=>{\n    var container = document.getElementById('container');\n    container.classList.remove(\"right-panel-active\");\n  }\n  const signUp = ()=>{\n    var container = document.getElementById('container');\n    container.classList.add(\"right-panel-active\");\n  }\n  const handleLogin = async(e)=>{\n    console.log(\"handlelogin called\");\n    var email = state.email;\n    var password = state.password;\n    e.preventDefault();\n    if(email===\"\" || password===\"\"){\n      alert(\"enter email and password\");\n    }\n    \n   if(admin==true){\n     var res = await axios.post(\"https://book-my-show-web-application.vercel.app/admin/validateAdmin\",{\n       email,password\n     })\n     console.log(\"res\",res);\n     if(res.data.error==\"Invalid Password\"){\n       alert(\"Invalid Password\");\n     }else\n     if(res.data.error==\"admin doesnt exist\"){\n       alert(\"admin doesnt exist\");\n     }else\n     if(res.data.authToken){\n      props.selectedName(res.data.admin.name);\n      props.selectedProfile(res.data.admin.image);\n      props.selectedEmail(res.data.admin.email);\n      props.selectedMobile(res.data.admin.mobile);\n      localStorage.setItem(\"token\",res.data.authToken);\n      History.push({pathname:\"/adminpage\"});\n     }\n   }else{\nvar res = await axios.post(\"https://book-my-show-web-application.vercel.app/users/validateUser\",{\n  email,password\n})\nconsole.log(\"res\",res);\nif(res.data.error==\"Invalid Password\"){\n  alert(\"Invalid Password\");\n}else\nif(res.data.error==\"user doesnt exist\"){\n  alert(\"user doesnt exist\");\n}else\n  if(res.data.authToken){\n    props.selectedName(res.data.user.username);\n    props.selectedProfile(res.data.user.image);\n    props.selectedEmail(res.data.user.email);\n    props.selectedMobile(res.data.user.mobile);\n    localStorage.setItem(\"token\",res.data.authToken);\n    History.push(\"/homepage\");\n }\n}\n  }\n  const handleSubmit = async(e)=>{\n    e.preventDefault();\n    console.log(\"state\",state);\n    console.log(\"target\",e.target.name)\n    // const data = new FormData(e.target);\n  //  console.log(\"data\",data);\n   const data = {\n    username:state.username,\n    email:state.email,\n    password:state.password,\n    mobile:state.mobile,\n    avatar:avatarPreview\n   }\n   console.log(\"data\",data);\n    const formData = new FormData();\n  //  const data = new FormData(e.target);\n  //  console.log(\"State\",state);\n  //  formData.set(\"avatar\",avatarPreview);\n  //  formData.set(\"username\",state.username);\n  //  formData.set(\"email\",state.email);\n  //  formData.set(\"password\",state.password);\n  //  formData.set(\"mobile\",state.mobile);\n  //  console.log(\"formadata\",formData);\n  \n   const config={\n     headers:{\n      'Content-Type':'multipart/form-data'\n     }\n   }\n   const url = \"http://localhost:3001/users/register\";\n   const res = await axios.post(url,data,config);\n   console.log(\"res\",res);\n   if(res.data.response){\n     alert(\"user register successfully\");\n     var container = document.getElementById('container');\n     container.classList.remove(\"right-panel-active\");\n    //  history.push(\"/\");\n   }else{\n     alert(\"user already exist\");\n   }\n }\n const handleChange = async({target:{name,value,files}})=>{\n    console.log(\"handlechange called\");\n    console.log(\"value\",value);\n    \n   \n    switch(name){\n      case \"username\":{\n        if(value.length==0){\n          error.username = \"name cant be empty\";\n        }else\n        if(value.length<5){\n          error.username = 'name should be atleast 5 charaters long';\n        }else{\n          error.username = \"\";\n        }\n        break;\n      }\n     \n      case \"email\":{\n        if(value.length==0){\n          error.email = \"email cant be empty\";\n        }else\n        error.email =  validEmailRegex.test(value)\n        ? ''\n        : 'Email is not valid!';\n        break;\n      }\n      case \"mobile\":{\n        if(value.length==0){\n          error.mobile = \"Mobile Nunber cant be empty\";\n        }else\n        error.mobile = '';\n        break;\n      }\n      case \"password\":{\n        if(value.length==0){\n          errors.password = \"password cant be empty\";\n        }else\n        errors.password = validator.isStrongPassword(value, {\n          minLength: 8, minLowercase: 1,\n          minUppercase: 1, minNumbers: 1, minSymbols: 1\n        })?'':\"password is weak\";\n     \n        break;\n      }\n    }\n    console.log(\"errors\",errors);\n    if(name === \"avatar\"){\n      const reader = new FileReader();\n      console.log(\"image\",files[0])\n      reader.readAsDataURL(files[0]);\n      reader.onload = ()=>{\n          if(reader.readyState == 2){\n              setAvatarPreview(reader.result);\n              setAvatar(reader.result);\n          }\n      }\n    }else{\n    setState({...state,[name]:value,errors:errors});\n  }\n}\n   return(\n     <div>\n         <h2 style={{marginTop:\"80px\"}}>Movie Ticket Booking App</h2>\n         <div class=\"container\" id=\"container\">\n         <div class=\"form-container sign-up-container\">\n             <form onSubmit={handleSubmit} encType='multipart/form-data'>\n             <div>\n                \n                 </div> \n                 <h1>Create Account</h1>\n                 <div class=\"social-container\">\n                 \n                 </div>\n                 <span>or use your email for registration</span>  \n                \n                 {/* <input type=\"file\" placeholder=\"Pick Image\" onChange={(e) => setProfile(e.target.files[0])} /> */}\n                 \n                 <input type=\"text\" placeholder=\"name\" name=\"username\" id=\"name\"\n                 value={username} onChange={handleChange}/>\n\n                  <span style={{color:'red'}}>{error.username}</span>\n                <input type=\"email\" placeholder=\"email\" name=\"email\" id=\"email\"\n                value={email} onChange={handleChange}/> \n                 <span style={{color:'red'}}>{error.email}</span>\n                <input type=\"password\" placeholder=\"password\" name=\"password\" id=\"password\"\n               value={password} onChange={handleChange}/> \n                <span style={{color:'red'}}>{error.password}</span>\n                 <input type=\"text\" placeholder=\"mobile\" name=\"mobile\" id=\"mobile\"\n                \n                  value={mobile} onChange={handleChange}/>\n                  <span style={{color:'red'}}>{error.mobile}</span>\n                  \n                                <label className='custom-file-label' htmlFor='customFile'>\n                                        Choose Avatar\n                                </label>\n                                <div className='custom-file'>\n                                    <input\n                                        type='file'\n                                        name='avatar'\n                                    className='custom-file-input'\n                                    id='customFile'\n                                    accept=\"image/*\"\n                                    onChange={handleChange}\n                                    />\n                                    \n                                </div>\n                      \n                 <button type=\"submit\">Sign Up</button>\n               \n             </form>\n            \n         </div>\n         <div class=\"form-container sign-in-container\">\n              <form>\n                  <h1>Sign in</h1>\n                 \n                  <span>or use your account</span>\n                  <input type=\"email\" name=\"email\" placeholder=\"email\" value={state.email} onChange={handleChange}></input>\n                  <span style={{color:'red'}}>{state.errors.email}</span>\n                  <input type=\"password\" name=\"password\" placeholder=\"password\" value={state.password} onChange={handleChange}></input>\n                \n                  <input type=\"checkbox\" style={{ marginLeft: \"-66%\", width: \"-webkit-fill-available\" }} value={admin} onChange={(e) => setadmin(true)} /><a href=\"#\" style={{ marginLeft: \"-8%\", marginTop: \"-8%\" }}>Pick If You Are Admin</a>\n                  <button onClick={handleLogin}>Sign In</button>\n              </form>\n         </div>\n\n          <div class=\"overlay-container\">\n          <div class=\"overlay\">\n            <div class=\"overlay-panel overlay-left\">\n              <h1>Welcome Back!</h1>\n              <p>To keep connected with us please login with your personal info</p>\n              <button class=\"ghost\" id=\"signIn\" onClick={signIn}>Sign In</button>\n            </div>\n            <div class=\"overlay-panel overlay-right\">\n              <h1>Hello, Friend!</h1>\n              <p>Enter your personal details and start journey with us</p>\n              <button class=\"ghost\" id=\"signUp\" onClick={signUp}>Sign Up</button>\n            </div>\n          </div>\n        </div>\n      </div>\n</div>\n   )\n}\nexport default connect(null,{selectedProfile,selectedName,selectedEmail,selectedMobile})(Signup);\n"]},"metadata":{},"sourceType":"module"}