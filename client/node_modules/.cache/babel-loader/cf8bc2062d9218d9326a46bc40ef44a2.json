{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect}from\"react\";import Card from'@mui/material/Card';import axios from\"axios\";import{useHistory,Link,useParams}from'react-router-dom';import CardActions from'@mui/material/CardActions';import CardContent from'@mui/material/CardContent';import CardMedia from'@mui/material/CardMedia';import Button from'@mui/material/Button';import Typography from'@mui/material/Typography';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Movies=function Movies(){var params=useParams();var history=useHistory();var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),movies=_React$useState2[0],setmovies=_React$useState2[1];useEffect(function(){getMovies();},[]);function getMovies(){return _getMovies.apply(this,arguments);}function _getMovies(){_getMovies=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var id,token,res;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:id=params.id;token=localStorage.getItem(\"token\");_context3.next=4;return axios.get(\"https://bookmyshowback.herokuapp.com/movies/getmovies/\".concat(id),{headers:{'auth-token':token}});case 4:res=_context3.sent;console.log(\"res\",res);setmovies(res.data.response);case 7:case\"end\":return _context3.stop();}}},_callee3);}));return _getMovies.apply(this,arguments);}var Remove=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){var token,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:console.log(\"deleteId\",id);token=localStorage.getItem(\"token\");_context.next=4;return axios.delete(\"https://bookmyshowback.herokuapp.com/movies/deletemovie/\".concat(id),{headers:{'auth-token':token}});case 4:res=_context.sent;console.log(\"res\",res);case 6:case\"end\":return _context.stop();}}},_callee);}));return function Remove(_x){return _ref.apply(this,arguments);};}();var editMovie=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id,theaterId){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:history.push(\"/editMovie/\".concat(id,\"/\").concat(theaterId));case 1:case\"end\":return _context2.stop();}}},_callee2);}));return function editMovie(_x2,_x3){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper \",children:[/*#__PURE__*/_jsx(\"link\",{href:\"../assets/css/material-dashboard.css?v=2.1.2\",rel:\"stylesheet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",\"data-color\":\"purple\",\"data-background-color\":\"white\",\"data-image\":\"../assets/img/sidebar-1.jpg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"a\",{href:\"http://www.creative-tim.com\",className:\"simple-text logo-normal\",children:\"AK CINEMAS\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-wrapper\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/adminpage\"},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"home\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Home\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active\",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/movie_theater_upload\"},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Movie Upload\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/adminbooking\"},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"content_paste\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Retrieve Bookings\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/adminprofile\"},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"person\"}),/*#__PURE__*/_jsx(\"p\",{children:\"User Profile\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/retrievefeedback\"},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"notifications\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Feedback\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:\"\",className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"logout\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Logout\"})]})})]})})]}),movies.length==0?/*#__PURE__*/_jsx(\"h1\",{style:{color:\"red\",marginLeft:\"300px\",marginTop:\"100px\",fontWeight:\"bold\"},children:\"No Movies Added\"}):/*#__PURE__*/_jsx(_Fragment,{children:movies.map(function(movie){return/*#__PURE__*/_jsxs(Card,{sx:{minWidth:550,marginTop:\"40px\",marginLeft:\"410px\"},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"140\",image:movie.movieimage,alt:\"green iguana\"}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:movie.moviename}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:movie.description})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return Remove(movie._id);},size:\"small\",children:\"Delete\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return editMovie(movie._id,movie.theaterId);},size:\"small\",children:\"Edit\"})]})]});})}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",style:{width:\"200px\",marginLeft:\"400px\",marginTop:\"100px\"},onClick:function onClick(){history.push(\"/movie_theater_upload\");},value:\"Back\",id:\"con-select\"})]});};export default Movies;","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/src/admin/movie.js"],"names":["React","useEffect","Card","axios","useHistory","Link","useParams","CardActions","CardContent","CardMedia","Button","Typography","Movies","params","history","useState","movies","setmovies","getMovies","id","token","localStorage","getItem","get","headers","res","console","log","data","response","Remove","delete","editMovie","theaterId","push","pathname","length","color","marginLeft","marginTop","fontWeight","map","movie","minWidth","movieimage","moviename","description","_id","width"],"mappings":"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","sourcesContent":["import React, { useEffect } from \"react\";\nimport Card from '@mui/material/Card';\nimport axios from \"axios\";\nimport { useHistory,Link,useParams } from 'react-router-dom';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nconst Movies = ()=>{\n    const params = useParams();\n    const history = useHistory();\n    \n    const [movies,setmovies] = React.useState([]);\n    useEffect(()=>{\n        getMovies();\n    },[])\n   \n    async function getMovies(){\n      var id = params.id;\n      const token = localStorage.getItem(\"token\");\n      var res = await axios.get(`https://bookmyshowback.herokuapp.com/movies/getmovies/${id}`,{\n          headers:{\n              'auth-token':token\n          }\n      });\n      console.log(\"res\",res);\n      setmovies(res.data.response);\n    }\n   const Remove=async(id)=>{\n       console.log(\"deleteId\",id);\n       const token = localStorage.getItem(\"token\");\n       var res = await axios.delete(`https://bookmyshowback.herokuapp.com/movies/deletemovie/${id}`,{\n           headers:{\n               'auth-token':token\n           }\n       });\n       console.log(\"res\",res);\n   }\n  const editMovie=async(id,theaterId)=>{\n      history.push(`/editMovie/${id}/${theaterId}`);\n  }\n  return (\n    <div className=\"wrapper \">\n    <link href=\"../assets/css/material-dashboard.css?v=2.1.2\" rel=\"stylesheet\" />\n    <div className=\"sidebar\" data-color=\"purple\" data-background-color=\"white\" data-image=\"../assets/img/sidebar-1.jpg\">\n        <div className=\"logo\"><a href=\"http://www.creative-tim.com\" className=\"simple-text logo-normal\">\n            AK CINEMAS\n        </a></div>\n        <div className=\"sidebar-wrapper\">\n            <ul className=\"nav\">\n                <li className=\"nav-item\">\n                    <Link to={{ pathname: \"/adminpage\"}} className=\"nav-link\">\n                        <i className=\"material-icons\">home</i>\n                        <p>Home</p>\n                    </Link>\n                </li>\n                <li className=\"nav-item active\">\n                    <Link to={{ pathname: \"/movie_theater_upload\" }} className=\"nav-link\">\n                        <i className=\"material-icons\">dashboard</i>\n                        <p>Movie Upload</p>\n                    </Link>\n                </li>\n                <li className=\"nav-item \">\n                    <Link to={{ pathname: \"/adminbooking\" }} className=\"nav-link\">\n                        <i className=\"material-icons\">content_paste</i>\n                        <p>Retrieve Bookings</p>\n                    </Link>\n                </li>\n                <li className=\"nav-item \">\n                    <Link to={{ pathname: \"/adminprofile\" }} className=\"nav-link\">\n                        <i className=\"material-icons\">person</i>\n                        <p>User Profile</p>\n                    </Link>\n                </li>\n                <li className=\"nav-item \">\n                    <Link to={{ pathname: \"/retrievefeedback\" }} className=\"nav-link\" >\n                        <i className=\"material-icons\">notifications</i>\n                        <p>Feedback</p>\n                    </Link>\n                </li>\n                <li className=\"nav-item \">\n                    <Link to=\"\" className=\"nav-link\" >\n                        <i className=\"material-icons\">logout</i>\n                        <p>Logout</p>\n                    </Link>\n                </li>\n            </ul>\n        </div>\n    </div>\n    {movies.length==0?<h1 style={{color:\"red\",marginLeft:\"300px\",marginTop:\"100px\",fontWeight:\"bold\"}}>No Movies Added</h1>:<>\n    {movies.map(movie=>{\n        return (\n            <Card sx={{ minWidth: 550,marginTop:\"40px\",marginLeft:\"410px\" }}>\n            <CardMedia\n              component=\"img\"\n              height=\"140\"\n              image={movie.movieimage}\n              alt=\"green iguana\"\n            />\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"div\">\n              {movie.moviename}\n              </Typography> \n              <Typography variant=\"body2\" color=\"text.secondary\">\n              {movie.description}\n              </Typography>\n            </CardContent>\n            <CardActions>\n              <Button onClick={()=>Remove(movie._id)} size=\"small\">Delete</Button>\n              <Button onClick={()=>editMovie(movie._id,movie.theaterId)} size=\"small\">Edit</Button>\n            </CardActions>\n          </Card>\n        )\n    })}</>}\n    <input type=\"button\" style={{width:\"200px\",marginLeft:\"400px\",marginTop:\"100px\"}} onClick={()=>{history.push(\"/movie_theater_upload\")}} value=\"Back\"  id=\"con-select\" />\n  </div>\n  )\n}\nexport default Movies;"]},"metadata":{},"sourceType":"module"}