{"ast":null,"code":"import _regeneratorRuntime from\"/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{connect}from'react-redux';import Card from'@mui/material/Card';import axios from\"axios\";import{useHistory,Link,useParams}from'react-router-dom';import CardActions from'@mui/material/CardActions';import CardContent from'@mui/material/CardContent';import CardMedia from'@mui/material/CardMedia';import Button from'@mui/material/Button';import{MDBCol,MDBIcon}from\"mdbreact\";// import { MDBCol } from \"mdbreact\";\n// import { MDBCol, MDBFormInline, MDBBtn } from \"mdbreact\";\n// import SearchBar from \"material-ui-search-bar\";\nimport{MenuItem,Select,Typography}from\"@material-ui/core/\";// import MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport'../movie_details.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Homepage=function Homepage(props){console.log(\"props\",props);var history=useHistory();var params=useParams();var profile=props.profile;var name=props.name;var email=props.email;var mobile=props.mobile;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),moviedata=_useState2[0],setmoviedata=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setsearch=_useState4[1];useEffect(function(){console.log(\"history\",history);console.log(\"props\",props);console.log(\"home component mounted\");getmovies();},[]);var SearchSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var token,response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:token=localStorage.getItem(\"token\");console.log(\"search called\");console.log(\"search\",search);_context.next=5;return axios.get(\"https://bookmyshowback.herokuapp.com/movies/searchmovies/\".concat(search),{headers:{'auth-token':token}});case 5:response=_context.sent;console.log(\"response\",response);setmoviedata(response.data);case 8:case\"end\":return _context.stop();}}},_callee);}));return function SearchSubmit(){return _ref.apply(this,arguments);};}();var getmovies=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var id,token,response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:id=params.id;token=localStorage.getItem(\"token\");console.log(\"getmovies called\");_context2.next=5;return axios.get(\"https://bookmyshowback.herokuapp.com/movies/getmovies/\".concat(id),{headers:{'auth-token':token}});case 5:response=_context2.sent;console.log(\"res\",response);setmoviedata(response.data.response);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getmovies(){return _ref2.apply(this,arguments);};}();// const  view = async(id)=>{\n//   history.push(\"/details\");\n// }\n// const bookMovie = async()=>{\n//     history.push(\"/bookingform\");\n// }\nreturn/*#__PURE__*/_jsxs(\"div\",{className:\"wrapper \",children:[/*#__PURE__*/_jsx(\"link\",{href:\"../assets/css/material-dashboard.css?v=2.1.2\",rel:\"stylesheet\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"sidebar\",\"data-color\":\"purple\",\"data-background-color\":\"white\",\"data-image\":\"../assets/img/sidebar-1.jpg\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:/*#__PURE__*/_jsx(\"a\",{href:\"http://www.creative-tim.com\",className:\"simple-text logo-normal\",children:\"AK CINEMAS\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"sidebar-wrapper\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item active  \",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/homepage\",state:{profile:profile,name:name,email:email,mobile:mobile}},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"home\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Home\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/dashboard\",state:{profile:profile,name:name,email:email,mobile:mobile}},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"dashboard\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Dashboard\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/bookings\",state:{profile:profile,name:name,email:email,mobile:mobile}},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"content_paste\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Bookings\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/userprofile\",state:{profile:profile,name:name,email:email,mobile:mobile}},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"person\"}),/*#__PURE__*/_jsx(\"p\",{children:\"User Profile\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:{pathname:\"/feedback\",state:{profile:profile,name:name,email:email,mobile:mobile}},className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"notifications\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Feedback\"})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"nav-item \",children:/*#__PURE__*/_jsxs(Link,{to:\"\",className:\"nav-link\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"material-icons\",children:\"logout\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Logout\"})]})})]})})]}),/*#__PURE__*/_jsx(MDBCol,{md:\"6\",children:/*#__PURE__*/_jsxs(\"form\",{style:{marginLeft:\"300px\",width:\"700px\"},className:\"form-inline mt-4 mb-4\",children:[/*#__PURE__*/_jsx(MDBIcon,{onClick:SearchSubmit,icon:\"search\"}),/*#__PURE__*/_jsx(\"input\",{className:\"form-control form-control-sm ml-3 w-75\",type:\"text\",name:\"search\",value:search,onChange:function onChange(e){setsearch(e.target.value);},onKeyUp:getmovies,placeholder:\"Search Movie By Name\",\"aria-label\":\"Search\"})]})}),moviedata.length==0?/*#__PURE__*/_jsx(\"h1\",{style:{marginLeft:\"300px\"},children:\"No Movie Available\"}):/*#__PURE__*/_jsx(_Fragment,{children:moviedata.map(function(movie){return/*#__PURE__*/_jsxs(Card,{sx:{minWidth:550,marginTop:\"40px\",marginLeft:\"400px\"},children:[/*#__PURE__*/_jsx(CardMedia,{component:\"img\",height:\"140\",image:movie.movieimage,alt:\"green iguana\"}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",component:\"div\",children:movie.moviename}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"text.secondary\",children:movie.description})]}),/*#__PURE__*/_jsxs(CardActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return history.push({pathname:\"/details\",state:{videourl:movie.videourl,moviename:movie.moviename,description:movie.description,actorname:movie.actorname,directorname:movie.directorname,releasedate:movie.releasedate,outdate:movie.outdate,movieimage:movie.movieimage}});},children:\"View Details\"}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return history.push({pathname:\"/bookingform\",state:{videourl:movie.videourl,moviename:movie.moviename,ticketcost:movie.ticketcost,description:movie.description,actorname:movie.actorname,directorname:movie.directorname,releasedate:movie.releasedate,outdate:movie.outdate,movieimage:movie.movieimage}});},children:\"Book Now\"})]})]});})}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",style:{width:\"200px\",marginLeft:\"550px\",marginTop:\"50px\"},onClick:function onClick(){history.push(\"/homepage\");},value:\"Back\",id:\"con-select\"})]});};function mapStateToProps(state){console.log(\"state\",state);return{name:state.name,email:state.email,profile:state.profile,mobile:state.mobile};}export default connect(mapStateToProps)(Homepage);","map":{"version":3,"sources":["/Users/ruchikaashokbharati/Documents/Projects/BookMyShow/Book_My_Show_Back-main/client/src/component/movies.js"],"names":["React","useState","useEffect","connect","Card","axios","useHistory","Link","useParams","CardActions","CardContent","CardMedia","Button","MDBCol","MDBIcon","MenuItem","Select","Typography","Homepage","props","console","log","history","params","profile","name","email","mobile","moviedata","setmoviedata","search","setsearch","getmovies","SearchSubmit","token","localStorage","getItem","get","headers","response","data","id","pathname","state","marginLeft","width","e","target","value","length","map","movie","minWidth","marginTop","movieimage","moviename","description","push","videourl","actorname","directorname","releasedate","outdate","ticketcost","mapStateToProps"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { connect } from 'react-redux';\nimport Card from '@mui/material/Card';\nimport axios from \"axios\";\nimport { useHistory,Link,useParams } from 'react-router-dom';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\nimport Button from '@mui/material/Button';\nimport { MDBCol, MDBIcon } from \"mdbreact\";\n// import { MDBCol } from \"mdbreact\";\n// import { MDBCol, MDBFormInline, MDBBtn } from \"mdbreact\";\n// import SearchBar from \"material-ui-search-bar\";\nimport { MenuItem, Select, Typography } from \"@material-ui/core/\";\n// import MuiThemeProvider from \"material-ui/styles/MuiThemeProvider\";\nimport '../movie_details.css';\nconst Homepage = (props) => {\n    console.log(\"props\",props);\n    const history = useHistory();\n    var params = useParams();\n    const profile = props.profile;\n    const name = props.name;\n    const email = props.email;\n    const mobile = props.mobile;\n    const [moviedata, setmoviedata] = useState([]);\n    const [search,setsearch] = useState(\"\");\n    useEffect(() => {\n        console.log(\"history\",history);\n        console.log(\"props\",props);\n        console.log(\"home component mounted\");\n        getmovies();\n        \n    }, [])\n    const SearchSubmit = async()=>{\n        const token = localStorage.getItem(\"token\");\n        console.log(\"search called\");\n        console.log(\"search\",search);\n        var response = await axios.get(`https://bookmyshowback.herokuapp.com/movies/searchmovies/${search}`,{\n            headers:{\n                'auth-token':token\n            }\n        });\n        console.log(\"response\",response);\n        setmoviedata(response.data)\n    }\n    const getmovies=async()=>{\n        var id = params.id;\n        const token = localStorage.getItem(\"token\");\n        console.log(\"getmovies called\");\n       var response = await axios.get(`https://bookmyshowback.herokuapp.com/movies/getmovies/${id}`,{\n           headers:{\n               'auth-token':token\n           }\n       });\n       console.log(\"res\",response);\n       setmoviedata(response.data.response)\n    }\n    // const  view = async(id)=>{\n    //   history.push(\"/details\");\n    // }\n    // const bookMovie = async()=>{\n    //     history.push(\"/bookingform\");\n    \n    // }\n    return (\n        <div className=\"wrapper \">\n            <link href=\"../assets/css/material-dashboard.css?v=2.1.2\" rel=\"stylesheet\" />\n            <div className=\"sidebar\" data-color=\"purple\" data-background-color=\"white\" data-image=\"../assets/img/sidebar-1.jpg\">\n                <div className=\"logo\"><a href=\"http://www.creative-tim.com\" className=\"simple-text logo-normal\">\n                    AK CINEMAS\n                </a></div>\n                <div className=\"sidebar-wrapper\">\n                    <ul className=\"nav\">\n                        <li className=\"nav-item active  \">\n                            <Link to={{ pathname: \"/homepage\",state:{ profile: profile, name: name, email: email, mobile: mobile }}} className=\"nav-link\">\n                                <i className=\"material-icons\">home</i>\n                                <p>Home</p>\n                            </Link>\n                        </li>\n                        <li className=\"nav-item\">\n                            <Link to={{ pathname: \"/dashboard\",state:{ profile: profile, name: name, email: email, mobile: mobile } }} className=\"nav-link\">\n                                <i className=\"material-icons\">dashboard</i>\n                                <p>Dashboard</p>\n                            </Link>\n                        </li>\n                        <li className=\"nav-item \">\n                            <Link to={{ pathname: \"/bookings\",state:{ profile: profile, name: name, email: email, mobile: mobile }}} className=\"nav-link\">\n                                <i className=\"material-icons\">content_paste</i>\n                                <p>Bookings</p>\n                            </Link>\n                        </li>\n                        <li className=\"nav-item \">\n                            <Link to={{ pathname: \"/userprofile\",state:{ profile: profile, name: name, email: email, mobile: mobile } }} className=\"nav-link\">\n                                <i className=\"material-icons\">person</i>\n                                <p>User Profile</p>\n                            </Link>\n                        </li>\n                        <li className=\"nav-item \">\n                            <Link to={{ pathname: \"/feedback\",state:{ profile: profile, name: name, email: email, mobile: mobile } }} className=\"nav-link\" >\n                                <i className=\"material-icons\">notifications</i>\n                                <p>Feedback</p>\n                            </Link>\n                        </li>\n                        <li className=\"nav-item \">\n                            <Link to=\"\" className=\"nav-link\" >\n                                <i className=\"material-icons\">logout</i>\n                                <p>Logout</p>\n                            </Link>\n                        </li>\n                    </ul>\n                </div>\n            </div>\n            {/* <MDBCol md=\"6\">\n      <div className=\"active-pink-3 active-pink-4 mb-4\">\n        <input style={{marginLeft:\"300px\",color:\"black\"}} className=\"form-control\" type=\"text\" placeholder=\"Enter Movie in your city\" aria-label=\"Search\" />\n      </div>\n    </MDBCol> */}\n     <MDBCol md=\"6\">\n      <form style={{marginLeft:\"300px\",width:\"700px\"}} className=\"form-inline mt-4 mb-4\">\n        <MDBIcon onClick={SearchSubmit} icon=\"search\" />\n        <input className=\"form-control form-control-sm ml-3 w-75\" type=\"text\" name=\"search\" value={search} onChange={(e)=>{setsearch(e.target.value)}} onKeyUp={getmovies} placeholder=\"Search Movie By Name\" aria-label=\"Search\" />\n      </form>\n    </MDBCol>\n    {moviedata.length==0?<h1 style={{marginLeft:\"300px\"}}>No Movie Available</h1>:<>\n            {moviedata.map(movie=>{\n        return (\n            <Card sx={{ minWidth: 550,marginTop:\"40px\",marginLeft:\"400px\" }}>\n            <CardMedia\n              component=\"img\"\n              height=\"140\"\n              image={movie.movieimage}\n              alt=\"green iguana\"\n            />\n            <CardContent>\n              <Typography gutterBottom variant=\"h5\" component=\"div\">\n              {movie.moviename}\n              </Typography> \n              <Typography variant=\"body2\" color=\"text.secondary\">\n              {movie.description}\n              </Typography>\n            </CardContent>\n            <CardActions>\n            <Button onClick={() => history.push({ pathname: \"/details\", state: { videourl: movie.videourl, moviename: movie.moviename, description:movie.description, actorname: movie.actorname, directorname: movie.directorname, releasedate: movie.releasedate, outdate: movie.outdate,movieimage:movie.movieimage } })}>View Details</Button>\n             \n            <Button onClick={() => history.push({ pathname: \"/bookingform\", state: { videourl: movie.videourl, moviename: movie.moviename,ticketcost:movie.ticketcost,description:movie.description, actorname: movie.actorname, directorname: movie.directorname, releasedate: movie.releasedate, outdate: movie.outdate,movieimage:movie.movieimage } })}>Book Now</Button>\n            </CardActions>\n          </Card>\n        )\n    })}</>}\n    <input type=\"button\" style={{width:\"200px\",marginLeft:\"550px\",marginTop:\"50px\"}} onClick={()=>{history.push(\"/homepage\")}} value=\"Back\"  id=\"con-select\" />\n  </div>\n\n    )\n}\nfunction mapStateToProps(state) {\n    console.log(\"state\",state);\n    return {\n        name: state.name,\n        email:state.email,\n        profile:state.profile,\n        mobile:state.mobile\n    }\n}\nexport default connect(mapStateToProps)(Homepage);"]},"metadata":{},"sourceType":"module"}